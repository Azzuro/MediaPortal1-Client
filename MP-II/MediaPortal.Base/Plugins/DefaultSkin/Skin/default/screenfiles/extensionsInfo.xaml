<?xml version="1.0" encoding="utf-8"?>
<Include
    xmlns="www.team-mediaportal.com/2008/mpf/directx"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Source="screenfiles\master_menu.xaml"
    >
  <Include.Resources>

    <!-- Header -->
    <ResourceWrapper x:Key="Header_Text" Resource="[extensions.myextensions]"/>

    <!-- DataContext -->
    <Model x:Key="DataContext" RegistrationLocation="MyExtensions" Id="Model"/>

    <!-- Menu -->
    <ResourceWrapper x:Key="Menu_Items">
      <Binding Source="{StaticResource DataContext}" Path="MainMenuInfo" Mode="OneTime"/>
    </ResourceWrapper>

    <!-- Menu command -->
    <!-- Access the (Core type) command from the current menu ListItem, which is
         accessible via the data context -->
    <CommandBridge x:Key="Menu_Command"
        Command="{Binding Path=Command,Mode=OneTime}"
        CommandParameter="{Binding Path=CommandParameter,Mode=OneTime}"/>

    <!-- Contents -->
    <ResourceWrapper x:Key="Contents_Element">
      <StackPanel DataContext="{Binding Source={StaticResource DataContext}}"
          DockPanel.Dock="Left" Margin="20,0,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" >
        <Label x:Name="headerReflection"  Font="font13" Margin="130,100,0,0" Text="{Binding SelectedPackage.LongNameProperty}" Width="500" Height="32"/>
        <Label x:Name="headerReflection1"  Font="font13" Margin="130,140,0,0" Text="{Binding SelectedPackage.AuthorProperty}" Width="500" Height="32"/>
        <Label x:Name="headerReflection2"  Font="font13" Margin="130,175,0,0" Text="{Binding SelectedPackage.DescriptionProperty}" Width="500" Height="132"/>
        <Label x:Name="headerReflection3"  Font="font13" Margin="30,195,0,0" Text="[extensions.dependon]" Width="500" Height="132"/>
        <ListView x:Name="list" Style="{StaticResource MenuListViewStyle}" Margin="30,220,0,0" ItemsSource="{Binding SelectedPackage.DependOn}" />
          <ListView.Resources>
            <CommandBridge x:Key="Menu_Command"
                Command="{Binding Path=Command,Mode=OneTime}"
                CommandParameter="{Binding Path=CommandParameter,Mode=OneTime}"/>
          </ListView.Resources>
        </ListView>
        <ListView x:Name="listver" Style="{StaticResource MenuListViewStyle}" ItemsSource="{Binding SelectedPackage.Versions}" Margin="0,200,0,0" />
          <ListView.Resources>
            <CommandBridge x:Key="Menu_Command"
                Command="{Binding Path=Command,Mode=OneTime}"
                CommandParameter="{Binding Path=CommandParameter,Mode=OneTime}"/>
          </ListView.Resources>
        </ListView>
      </StackPanel>
    </ResourceWrapper>

  </Include.Resources>
</Include>

<!-- 	<group name="maingroup">
	<controls>
		<include source="background.xml"/>
		<label name="header"  font="font26" position="70,15" label="[extensions.myextensions]" width="500" height="32" />
		<label name="headerReflection"  font="font26" position="70,55" label="[extensions.myextensions]" width="500" height="32">
			<animation trigger="onwindowopen" type="rotate" axis="x" from="180" to="180" duration="1" center="0,25"/>
			<opacitymask>
        <gradientstop offset="0.0" color="100" />
        <gradientstop offset="0.7" color="20" />
        <gradientstop offset="1.0" color="0" />
			</opacitymask>
		</label>

		<group name="menuPanel">
      <controls>
	  <image source="model.SelectedPackage.ScreeShotProperty" width="300" height="300" position="200,200" />
        <list name="mainMenu" position="30,97" style="style_list_menu" items="model.MainMenuInfo" >
          <animation trigger="onwindowopen" type="fade" from="0.0" to="1"  duration="1300"/>
          <animation trigger="onwindowopen" type="slide"  from="-300.0" to="0,0"  duration="1300"/>
        </list>
        <label name="headerReflection"  font="font13" position="230,100" label="model.SelectedPackage.LongNameProperty" width="500" height="32"/>
        <label name="headerReflection"  font="font13" position="230,140" label="model.SelectedPackage.AuthorProperty" width="500" height="32"/>
        <label name="headerReflection"  font="font13" position="230,175" label="model.SelectedPackage.DescriptionProperty" width="500" height="132"/>
        <label name="headerReflection"  font="font13" position="30,195" label="[extensions.dependon]" width="500" height="132"/>
		  <list name="list" style="style_list_menu" position="30,220" items="model.SelectedPackage.DependOn" />
        <list name="listver" style="style_list_extensions_ver" items="model.SelectedPackage.Versions" position="0,200" />
        <updown style="updown_style" position="630,530" container="listver" name="updown" label="#script:upDownLabel"/>
      </controls>
      <animation trigger="hasfocus(smallvideo)" type="zoom" from="1.0" to="0.96"  duration="300"/>
      <animation trigger="!hasfocus(smallvideo)" type="zoom" from="0.96" to="1.0"  duration="300" />
      <opacitymask visible="#script:HasControlFocus(smallvideo)">
        <gradientstop offset="0.0" color="255" />
        <gradientstop offset="0.4" color="30" />
        <gradientstop offset="1.0" color="0" />
			</opacitymask>
		</group>

    <button name="smallvideo" style="button_small_video" visible="#script:IsVideoPlaying" position="31,450"  command="ScreenManager.ShowWindow" parameter="fullscreenvideo">
      <animation trigger="hasfocus" type="zoom" from="1.0" to="1.1"  duration="300" center="104,104"/>
      <animation trigger="!hasfocus" type="zoom" from="1.1" to="1.0" duration="300" center="104,104" />
    </button>
    <include source="osd.xml"/>
  </controls>
  <animation trigger="onwindowclose" type="fade" from="1" to="0"  duration="800"/>
	<animation trigger="onwindowopen" type="fade" from="0" to="1"  duration="800"/>
</group>
</skin> -->
