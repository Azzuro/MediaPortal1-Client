<?xml version="1.0" encoding="utf-8"?>
<Canvas
    xmlns="www.team-mediaportal.com/2008/mpf/directx"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    DataContext="{Binding Source={Model AssemblyName=mymovies,ClassName=Model},Path=Instance}"
    History="False" Width="720" Height="576">
  <Canvas.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="XamlStyle.xml"/>
        <ResourceDictionary Source="AnalogClock.xaml"/>
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </Canvas.Resources>
  <Canvas.Background>
    <VideoBrush/>
  </Canvas.Background>
  <Canvas.Triggers>
    <Trigger Property="{Binding Source={Service Players},Path=OSD.IsVideo}" Value="False">
      <Trigger.EnterActions>
        <InvokeCommand Command="{Command Source={Service WindowManager},Path=ShowPreviousWindow}" />
      </Trigger.EnterActions>
    </Trigger>
  </Canvas.Triggers>
  <Canvas x:Name="osd" Width="720" Height="576" IsVisible="{Binding Source={Service Players},Path=OSD.IsTopBarVisible}">
    <Border Canvas.Top="418" Width="720" Height="158" BorderBrush="Black" CornerRadius="8" BorderThickness="1">
      <Border.Background>
        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
          <GradientStop Offset="0" Color="#90FFFFFF"/>
          <GradientStop Offset="0.5" Color="#F87A7673"/>
          <GradientStop Offset="1" Color="#F87A7673"/>
        </LinearGradientBrush >
      </Border.Background>
    </Border>
    <Line  X1="131" X2="715" Y1="493" Y2="493"  Stroke="#FF939393" StrokeThickness="3" />
    <Border Canvas.Left="121" Canvas.Top="518" Width="94" Height="46" BorderBrush="Black" CornerRadius="8" BorderThickness="1">
      <Border.Background>
        <RadialGradientBrush Center="0.5,-0" GradientOrigin="0.5,0" RadiusX="0.9" RadiusY="0.5">
          <GradientStop Offset="0" Color="#F8F2F2F2"/>
          <GradientStop Offset="1" Color="#F8ACACAC"/>
        </RadialGradientBrush>
      </Border.Background>
    </Border>
    <Border Canvas.Left="23" Canvas.Top="429" Width="115" Height="108" BorderBrush="Black" CornerRadius="8" BorderThickness="1">
      <Border.Background>
        <RadialGradientBrush Center="0.5,-0" GradientOrigin="0.5,0" RadiusX="0.9" RadiusY="0.5">
          <GradientStop Offset="0" Color="#48F2F2F2"/>
          <GradientStop Offset="0.4" Color="#A0F2F2F2"/>
          <GradientStop Offset="1" Color="#F8ACACAC"/>
        </RadialGradientBrush>
      </Border.Background>
    </Border>

    <Border x:Name="bgProgressbar" Canvas.Left="224" Canvas.Top="436" Width="395" Height="15" BorderBrush="Black" CornerRadius="8" BorderThickness="1">
      <Border.Background>
        <RadialGradientBrush Center="0.5,-0" GradientOrigin="0.5,0" RadiusX="0.9" RadiusY="0.5">
          <GradientStop Offset="0" Color="#48F2F2F2"/>
          <GradientStop Offset="1" Color="#F8CCCCCC"/>
        </RadialGradientBrush>
      </Border.Background>
    </Border>
    <ProgressBar  x:Name="progressBar" Canvas.Left="227" Canvas.Top="438" Width="390" Height="10" Value="{Binding Source={Service Players},Path=OSD.PercentPlayed}" Style="{StaticResource MpProgressBar}"/>

    <Label x:Name="startTime" Font="font12" VerticalAlignment="Top"  HorizontalAlignment="Center" Canvas.Left="145" Canvas.Top="434" Color="Black" Width="100" Height="30" Text="{Binding Source={Service Players},Path=OSD.CurrentTime}" />
    <Label x:Name="endTime" Font="font12" VerticalAlignment="Top"  HorizontalAlignment="Center" Canvas.Left="609"  Canvas.Top="434" Color="Black" Width="100" Height="30" Text="{Binding Source={Service Players},Path=OSD.RemainingTime}" />
    <Label x:Name="osdname" Font="font12" HorizontalAlignment="Left" Canvas.Left="225" Canvas.Top="510" Color="Black" Width="190" Height="30" Text="Video" />

    <Label x:Name="time" Font="font13" Canvas.Left="610" Canvas.Top="513" Text="{Binding Source={Service WindowManager},Path=Utils.CurrentTime}" Width="120" Height="32" Color="Black" HorizontalAlignment="Left"/>
    <Label x:Name="osdTitle" Font="font13" HorizontalAlignment="Left" Canvas.Left="225" Canvas.Top="466" Color="Black" Width="420" Height="30" Text="{Binding Source={Service Players},Path=OSD.Title}" />
    <Label x:Name="osdTime" Font="font13" HorizontalAlignment="Left" Canvas.Left="30" Canvas.Top="440" Color="Black" Width="190" Height="30" Text="{Binding Source={Service Players},Path=OSD.CurrentTime}" />
    <Label x:Name="osdDuration" Font="font13" HorizontalAlignment="Left" Canvas.Left="225" Canvas.Top="533" Color="Black" Width="190" Height="30" Text="{Binding Source={Service Players},Path=OSD.Duration}" />
    <Label x:Name="row1" Font="font13" Canvas.Left="129" Canvas.Top="530"  Width="100" Height="30" Color="Black" Text="{Binding Source={Service Players},Path=OSD.SeekTime}" />
    <Image x:Name="pause" Source="video-pause.png" Canvas.Left="144" Canvas.Top="449" Width="25" Height="32"  IsVisible="{Binding Source={Service Players},Path=Paused}"/>
    <Image x:Name="play" Source="video-play.png" Canvas.Left="144" Canvas.Top="449" Width="25" Height="32"  IsVisible="{Binding Source={Service Players},Path=Playing}"/>

    <ProgressBar x:Name="Clock" Canvas.Left="550" Canvas.Top="510" Width="25" Height="25" Style="{StaticResource AnalogClockTemplate}"/>
    <Canvas x:Name="pipWindow" Canvas.Left="30" Canvas.Top="438" Width="100" Height="93">
      <Canvas.Background>
        <VideoBrush Stream="1"/>
      </Canvas.Background>
    </Canvas>
  </Canvas>
  <KeyBinding KeyPress="DvdMenu" Command="{Command Source={Service Players},Path=ShowDvdMenu}" />
  <KeyBinding KeyPress="DvdUp" Command="{Command Source={Service Players},Path=DvdNavigate}" CommandParameter="Up"/>
  <KeyBinding KeyPress="DvdDown" Command="{Command Source={Service Players},Path=DvdNavigate}" CommandParameter="Down"/>
  <KeyBinding KeyPress="DvdLeft" Command="{Command Source={Service Players},Path=DvdNavigate}" CommandParameter="Left"/>
  <KeyBinding KeyPress="DvdRight" Command="{Command Source={Service Players},Path=DvdNavigate}" CommandParameter="Right"/>
  <KeyBinding KeyPress="DvdSelect" Command="{Command Source={Service Players},Path=DvdSelect}"/>
  <KeyBinding KeyPress="ContextMenu" Command="{Command Source={Service WindowManager},Path=ShowDialog}" CommandParameter="dialogVideoContextMenu"/>
  <KeyBinding KeyPress="ZoomMode" Command="{Command Source={Service Players},Path=OSD.NextZoomMode}"/>
  <KeyBinding KeyPress="Left" Command="{Command Source={Service Players},Path=SeekBackward}"/>
  <KeyBinding KeyPress="Right" Command="{Command Source={Service Players},Path=SeekForward}"/>
  <Include Source="osd.xaml"/>
</Canvas>