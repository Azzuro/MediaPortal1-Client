<?xml version="1.0" encoding="utf-8"?>
<Canvas
    xmlns="www.team-mediaportal.com/2008/mpf/directx"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    DataContext="{Binding Source={Model AssemblyName=mypicture,ClassName=PictureModel}}"
    FocusedElement="{Binding ElementName=cropButton}"
    History="False">

  <Canvas Loaded="{Command Path=Editor.Reset}"  Background="{StaticResource backGroundBrush}" Width="720" Height="576">

    <Label Font="font13" Canvas.Left="230" Canvas.Top="100" Width="500" Height="30" Text="{Binding SlideShow.Info.ImgTitle}"/>
    <Image x:Name="picture" Source="{Binding Path=Editor.CurrentPicture}"  Canvas.Left="230" Canvas.Top="130" Width="400" Height="300" Thumbnail="False" Stretch="Uniform"/>

    <Button Style="{StaticResource MpArrowButtonLeft}" Width="32" Height="32"   Canvas.Left="230" Canvas.Top="435" Command="{Command Path=Editor.MoveLeft}" IsVisible="{Binding Path=Editor.CroppingEnabled}"/>
    <Button Style="{StaticResource MpArrowButtonRight}" Width="32" Height="32" Canvas.Left="264" Canvas.Top="435" Command="{Command Path=Editor.MoveRight}" IsVisible="{Binding Path=Editor.CroppingEnabled}"/>

    <Button Style="{StaticResource MpArrowButtonUp}" Width="32" Height="32" Canvas.Left="304" Canvas.Top="435" Command="{Command Path=Editor.MoveUp}" IsVisible="{Binding Path=Editor.CroppingEnabled}"/>
    <Button Style="{StaticResource MpArrowButtonDown}" Width="32" Height="32" Canvas.Left="338" Canvas.Top="435" Command="{Command Path=Editor.MoveDown}" IsVisible="{Binding Path=Editor.CroppingEnabled}"/>

    <Button Style="{StaticResource MpButtonZoomOut}" Width="32" Height="32" Canvas.Left="378" Canvas.Top="435" Command="{Command Path=Editor.ZoomOut}" IsVisible="{Binding Path=Editor.CroppingEnabled}"/>
    <Button Style="{StaticResource MpButtonZoomIn}" Width="32" Height="32" Canvas.Left="412" Canvas.Top="435" Command="{Command Path=Editor.ZoomIn}" IsVisible="{Binding Path=Editor.CroppingEnabled}"/>

    <Button Style="{StaticResource MpButtonRotateLeft}" Width="32" Height="32" Canvas.Left="454" Canvas.Top="435" Command="{Command Path=Editor.RotateLeft}"/>
    <Button Style="{StaticResource MpButtonRotateRight}" Width="32" Height="32" Canvas.Left="488" Canvas.Top="435" Command="{Command Path=Editor.RotateRight}"/>
    <StackPanel x:Name="menuPanel" Canvas.Left="30" Canvas.Top="120" Width="180" Margin="0,0,20,0">
      <Button Style="{StaticResource MpButton}" Height="32"  Command="{Command Path=Editor.SaveImage}">
        <Label Font="font13" Text="[pictures.save]"/>
      </Button>
      <Button Style="{StaticResource MpButton}" Height="32" Command="{Command Source={Service WindowManager},Path=ShowPreviousWindow}">
        <Label Font="font13" Text="[pictures.cancel]"/>
      </Button>
      <CheckBox x:Name="cropButton" Style="{StaticResource MpRadioButton}" Height="32" Command="{Command Path=Editor.TransformImage}" Checked="{Binding Path=Editor.EnableCropping}" Unchecked="{Binding Path=Editor.DisableCropping}">
        <Label Font="font13" Text="[pictures.crop]"/>
      </CheckBox>
      <CheckBox Style="{StaticResource MpRadioButton}" Height="32" Command="{Command Path=Editor.TransformImage}"  Checked="{Binding Path=Editor.EnableRedEye}" Unchecked="{Binding Path=Editor.DisableRedEye}">
        <Label Font="font13" Text="[pictures.redeye]"/>
      </CheckBox>
      <CheckBox Style="{StaticResource MpRadioButton}" Height="32" Command="{Command Path=Editor.TransformImage}" Checked="{Binding Path=Editor.EnableContrast}" Unchecked="{Binding Path=Editor.DisableContrast}">
        <Label Font="font13" Text="[pictures.contrast]"/>
      </CheckBox>
      <Button Style="{StaticResource MpButton}" Height="32" >
        <Label Font="font13" Text="[pictures.print]"/>
      </Button>
    </StackPanel>
  </Canvas>
  <KeyBinding KeyPress="Left" Command="{Command Path=SlideShow.ShowPreviousPicture}"/>
  <KeyBinding KeyPress="Right" Command="{Command Path=SlideShow.ShowNextPicture}"/>
  <KeyBinding KeyPress="Space" Command="{Command Path=SlideShow.Pause}"/>
</Canvas>
