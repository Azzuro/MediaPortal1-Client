using System;
using System.Collections.Generic;
using System.Text;
using System.IO;

namespace MediaPortal.Support
{
  public class MediaPortalLogs : ILogCreator
  {
    string mplogdir;
    public MediaPortalLogs(string mplogdir)
    {
      this.mplogdir = mplogdir;
    }

    public void CreateLogs(string destinationFolder)
    {
      destinationFolder = Path.GetFullPath(destinationFolder) + "\\";
      string[] logFiles = Directory.GetFiles(mplogdir, "*.log");
      foreach (string logFile in logFiles)
      {
        string dstFile = logFile.Substring(logFile.LastIndexOf("\\") + 1);
        bool overwrite = true;
        File.Copy(logFile, destinationFolder + dstFile, overwrite);
      }
    }

    public string ActionMessage
    {
      get
      {
        return "Gathering logfiles generated by MediaPortal...";
      }
    }
  }
}
